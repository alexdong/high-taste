# Change Value to Reference: Avoid duplicating large data by sharing a single reference object.

**ID**: RF003  
**Category**: Organizing Data â†’ structure

## Rule Description
Change Value to Reference: Avoid duplicating large data by sharing a single reference object.

## Before
```python
from dataclasses import dataclass

@dataclass
class ImageData:
    pixels: bytes

# Thousands of ProductPhoto instances each copy the same image
catalog = [ImageData(pixels=b'...') for _ in range(10_000)]
```

## After  
```python
class ImageRepository:
    _cache = {}

    @classmethod
    def get(cls, path):
        if path not in cls._cache:
            with open(path, 'rb') as f:
                cls._cache[path] = f.read()
        return cls._cache[path]

# Products now share the same bytes object
catalog = [ImageRepository.get('cover.jpg') for _ in range(10_000)]
```

## Full Example
```python
# Demonstration of Change Value to Reference before refactoring
from dataclasses import dataclass

@dataclass
class ImageData:
    pixels: bytes

# Thousands of ProductPhoto instances each copy the same image
catalog = [ImageData(pixels=b'...') for _ in range(10_000)]
```
