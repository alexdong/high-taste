# Extract Variable: Introduce an explaining variable for a complex expression.

**ID**: RF017  
**Category**: Composing Methods â†’ functions

## Rule Description
Extract Variable: Introduce an explaining variable for a complex expression.

## Before
```python
result = (order.quantity * order.item_price) -                      max(0, order.quantity - 500) * order.item_price * 0.05 +                      min(order.quantity * order.item_price * 0.1, 100.0)
```

## After  
```python
base_price = order.quantity * order.item_price
quantity_discount = max(0, order.quantity - 500) * order.item_price * 0.05
shipping = min(base_price * 0.1, 100.0)
result = base_price - quantity_discount + shipping
```

## Full Example
```python
# Demonstration of Extract Variable before refactoring
result = (order.quantity * order.item_price) -                      max(0, order.quantity - 500) * order.item_price * 0.05 +                      min(order.quantity * order.item_price * 0.1, 100.0)
```
