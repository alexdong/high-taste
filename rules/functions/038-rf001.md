# Extract Function: Move a fragment of code into its own function to improve readability, allow reuse, and facilitate testing.

**ID**: RF001  
**Category**: Composing Methods â†’ functions

## Rule Description
Extract Function: Move a fragment of code into its own function to improve readability, allow reuse, and facilitate testing.

## Before
```python
def process_invoice(invoice):
    outstanding = 0
    for order in invoice['orders']:
        outstanding += order['amount']
    print(f"amount: {outstanding}")
```

## After  
```python
def process_invoice(invoice):
    outstanding = calculate_outstanding(invoice)
    print(f"amount: {outstanding}")

def calculate_outstanding(invoice):
    return sum(order['amount'] for order in invoice['orders'])
```

## Full Example
```python
# Billing system demonstrating need for Extract Function refactoring
def process_invoice(invoice):
    """Print total outstanding amount for given invoice."""
    outstanding = 0
    for order in invoice['orders']:
        outstanding += order['amount']  # Accumulation logic that should be extracted
    print(f"amount: {outstanding}")

def main():
    invoice = {
        'orders': [
            {'amount': 5},
            {'amount': 15},
            {'amount': 25}
        ]
    }
    process_invoice(invoice)

if __name__ == '__main__':
    main()
```
