# Represent objects as functions that accept messages, keeping state hidden and avoiding class boilerplate when only simple behavior is needed.

**ID**: SICP010  
**Category**: Message Passing (Object Systems) â†’ concurrency

## Rule Description
Represent objects as functions that accept messages, keeping state hidden and avoiding class boilerplate when only simple behavior is needed.

## Before
```python
class BankAccount:
    def __init__(self):
        self.balance = 0
    def deposit(self, amount):
        self.balance += amount
    def withdraw(self, amount):
        self.balance -= amount
    def get_balance(self):
        return self.balance
```

## After  
```python
def make_account():
    balance = 0
    def dispatch(message, amount=0):
        nonlocal balance
        if message == 'deposit':
            balance += amount
        elif message == 'withdraw':
            balance -= amount
        elif message == 'balance':
            return balance
        else:
            raise ValueError('Unknown message')
    return dispatch

acct = make_account()
```

## Full Example
```python
acct('deposit', 100)
print(acct('balance'))
```
