# Use closures to encapsulate private state instead of relying on module‑global variables.

**ID**: SICP005  
**Category**: Closures and Encapsulation (Local State) → concurrency

## Rule Description
Use closures to encapsulate private state instead of relying on module‑global variables.

## Before
```python
counter = 0

def next_counter():
    global counter
    counter += 1
    return counter
```

## After  
```python
def make_counter():
    count = 0
    def next_counter():
        nonlocal count
        count += 1
        return count
    return next_counter

next_counter = make_counter()
```

## Full Example
```python
print(next_counter())
print(next_counter())
```
